// news.js

window.newsItems = [
  {
    id: 1,
    title: "Flex English Center Hosts IELTS Writing Task 2 Workshop Led by Expert Educator",
    summary: "Join our special IELTS Writing Task 2 Workshop with Thầy Lê Tùng Quân on May 9, 2025. Learn smarter essay strategies and win exclusive prizes!",
    mainMedia: { type: "image", url: "images/workshop.jpg" },
    content_en: `<p><strong>Can Tho, Vietnam – May 5, 2025</strong> – Flex English Center is excited to announce an upcoming IELTS Writing Task 2 Workshop with renowned educator Thầy Lê Tùng Quân on Friday, May 9, 2025, at 7:00 PM in Room 101. The workshop, titled "Rhetoric Before Grammar – Think Before You Write," will explore a smarter, more structured way to tackle the IELTS essay, focusing on ideas and organization before sentence mechanics.</p>
<p>Thầy Quân brings a wealth of experience and academic credentials to the event. He holds a degree from National Chengchi University (Taiwan) and Saginaw Valley State University (USA), along with a professional teaching certificate and an IELTS 8.0 score. Currently serving as the Director of Flex English Center, he's known for delivering clear, thought-provoking lessons that help students truly understand the "why" behind great writing.</p>
<p><strong>Why Attend?</strong></p>
<ul>
  <li>🔍 Learn how to build arguments before worrying about grammar</li>
  <li>🧠 Improve your Task 2 logic and structure</li>
  <li>🎤 Participate in a live Q&A with a certified IELTS expert</li>
  <li>🎁 Get access to exclusive workshop-only vouchers and prizes</li>
</ul>
<p>The session will be conducted in a hybrid format, allowing both in-person and online participation.</p>
<p><strong>Registration is open now — scan the QR code on the poster or contact Flex via:</strong></p>
<p>📩 Email: dangky@flexenglish.edu.vn<br>📞 Phone: 0703 010 122<br>📍 Location: Số D8, Mậu Thân, Xuân Khánh, Ninh Kiều, Cần Thơ</p>`,
    content_vn: `<p><strong>Cần Thơ, Việt Nam – 5/5/2025</strong> – Flex English Center hân hạnh thông báo tổ chức Workshop IELTS Writing Task 2 cùng chuyên gia Thầy Lê Tùng Quân vào thứ Sáu, ngày 9/5/2025, lúc 19:00 tại phòng 101. Chủ đề "Rhetoric Before Grammar – Think Before You Write" sẽ giúp bạn tiếp cận Task 2 thông minh hơn, tập trung vào ý tưởng và tổ chức bài trước khi lo về ngữ pháp.</p>
<p>Thầy Quân có nhiều kinh nghiệm và bằng cấp quốc tế: tốt nghiệp Đại học Quốc gia Chengchi (Đài Loan), Đại học Saginaw Valley State (Mỹ), có chứng chỉ giảng dạy chuyên nghiệp và IELTS 8.0. Hiện là Giám đốc Flex English Center, thầy nổi tiếng với những bài giảng rõ ràng, sâu sắc, giúp học viên hiểu bản chất của viết luận.</p>
<p><strong>Lý do nên tham dự?</strong></p>
<ul>
  <li>🔍 Học cách xây dựng lập luận trước khi lo ngữ pháp</li>
  <li>🧠 Nâng cao tư duy và bố cục Task 2</li>
  <li>🎤 Giao lưu hỏi đáp trực tiếp với chuyên gia IELTS</li>
  <li>🎁 Nhận voucher và quà tặng chỉ dành cho người tham dự</li>
</ul>
<p>Workshop tổ chức theo hình thức hybrid – bạn có thể tham gia trực tiếp hoặc online.</p>
<p><strong>Đăng ký ngay – quét mã QR trên poster hoặc liên hệ Flex:</strong></p>
<p>📩 Email: dangky@flexenglish.edu.vn<br>📞 Điện thoại: 0703 010 122<br>📍 Địa chỉ: Số D8, Mậu Thân, Xuân Khánh, Ninh Kiều, Cần Thơ</p>`
  },
  {
    id: 2,
    title: "AI-Powered English Test Now Available",
    summary: "A new AI-powered English test is now available at https://ptai-puce.vercel.app, offering a free and comprehensive assessment of all four language skills.",
    mainMedia: { type: "image", url: "images/aiphoto.png" },
    video: "https://youtube.com/shorts/RObAnixb56Q?feature=share",
    content_en: `<p>A new AI-powered English test is now available at <a href='https://ptai-puce.vercel.app' target='_blank'>https://ptai-puce.vercel.app</a>, offering a free and comprehensive assessment of all four language skills — reading, listening, writing, and speaking.</p><p>Created by Alex, co-founder of Flex, the test delivers instant, personalized feedback using advanced AI technology. It's designed to match international standards like IELTS and TOEFL, giving learners around the world a reliable way to check their English proficiency at no cost.</p><p>"I built this to make high-quality testing available to everyone — no paywalls, no pressure," says Alex.</p><p>Open to students, teachers, and lifelong learners, the platform requires no sign-up and works directly in any browser.</p><p>Try it now at <a href='https://ptai-puce.vercel.app' target='_blank'>https://ptai-puce.vercel.app</a></p>`,
    content_vn: `<p>Một bài kiểm tra tiếng Anh sử dụng AI mới hiện đã có tại <a href='https://ptai-puce.vercel.app' target='_blank'>https://ptai-puce.vercel.app</a>, cung cấp đánh giá miễn phí và toàn diện về bốn kỹ năng ngôn ngữ: đọc, nghe, viết và nói.</p><p>Được tạo bởi Alex, đồng sáng lập Flex, bài kiểm tra này cung cấp phản hồi cá nhân hóa tức thì nhờ công nghệ AI tiên tiến. Nó được thiết kế theo tiêu chuẩn quốc tế như IELTS và TOEFL, giúp người học trên toàn thế giới kiểm tra trình độ tiếng Anh của mình một cách đáng tin cậy mà không tốn chi phí.</p><p>"Tôi xây dựng điều này để mọi người đều có thể tiếp cận kiểm tra chất lượng cao — không có rào cản, không áp lực," Alex chia sẻ.</p><p>Dành cho học sinh, giáo viên và những người học suốt đời, nền tảng này không yêu cầu đăng ký và hoạt động trực tiếp trên bất kỳ trình duyệt nào.</p><p>Hãy thử ngay tại <a href='https://ptai-puce.vercel.app' target='_blank'>https://ptai-puce.vercel.app</a></p>`
  },
  {
    id: 3,
    title: "This Summer, Make Your English Stronger Than Ever",
    summary: "While others are sleeping in and scrolling through their phones, our students are leveling up. At Flex English Center, summer school isn't boring — it's focused, fun, and full of real progress.",
    mainMedia: { type: "image", url: "images/summer.jpg" },
    content_en: `<p>While others are sleeping in and scrolling through their phones, our students are leveling up. At Flex English Center, summer school isn't boring — it's focused, fun, and full of real progress.</p>
<p>Whether you're a teen aiming for IELTS, a kid building confidence, or an adult brushing up on speaking, there's a class just for you. Our experienced teachers combine clear explanations with real conversation practice, so you don't just learn English — you use it.</p>
<ul>
  <li>📚 Small classes, personal feedback, and lots of speaking time.</li>
  <li>🎯 Focused goals. Real results.</li>
  <li>🎁 Summer promotions and special gifts for early sign-ups!</li>
</ul>
<p>👉 Go to our <a href='classes.html' target='_blank'>Classes Page</a> to sign up now and reserve your spot!</p>`
  },
  {
    id: 4,
    title: "New Medical English Class Launches at Flex – For Professionals & Students",
    summary: "Flex English is proud to introduce a specialized Medical English class for doctors, nurses, pharmacists, and medical students who want to improve their English for clinical, academic, and professional settings.",
    mainMedia: { type: "image", url: "images/med1.png" },
    content_en: `<p>Flex English is proud to introduce a specialized Medical English class designed for doctors, nurses, pharmacists, and medical students who want to improve their English for clinical, academic, and professional settings.</p>
<p><img src='images/med2.jpg' alt='Medical English Class' style='max-width:100%;border-radius:12px;margin:1.5em 0;'></p>
<p>Whether you're preparing for international medical exams, planning to work abroad, or just want to feel more confident communicating with colleagues and patients in English, this course is tailored for you.</p>
<p><strong>What you'll learn:</strong></p>
<ul>
  <li>Medical terminology and anatomy in English</li>
  <li>Doctor-patient communication</li>
  <li>Case presentations and medical writing</li>
  <li>Listening and speaking practice with realistic medical scenarios</li>
  <li>English for conferences, research, and reports</li>
</ul>
<p>Classes are taught by experienced English educators with a background in healthcare language and a clear, practical approach.</p>
<ul>
  <li>📍 Limited spots available.</li>
  <li>📆 Evening & weekend options.</li>
  <li>🌐 Both online and offline formats available.</li>
</ul>`
  },
  {
    id: 5,
    title: "Flex Active Learning Program – Every Friday with Teacher Alex!",
    summary: "Need a little extra English help? Want more chances to speak, ask questions, and actually use what you've learned? Join our Active Learning Program — a fun, practical session held every Friday from 6:00 to 8:00 PM with Teacher Alex!",
    mainMedia: { type: "image", url: "images/active1.png" },
    content_en: `<p>Need a little extra English help? Want more chances to speak, ask questions, and actually use what you've learned? Join our Active Learning Program — a fun, practical session held every Friday from 6:00 to 8:00 PM with Teacher Alex!</p>
<p><img src='images/active2.jpg' alt='Active Learning Program' style='max-width:100%;border-radius:12px;margin:1.5em 0;'></p>
<p>This is your time to:</p>
<ul>
  <li>🗣 Practice speaking in a relaxed environment</li>
  <li>💬 Get feedback and correction from a native teacher</li>
  <li>🧠 Ask questions about grammar, writing, or vocabulary</li>
  <li>🤝 Learn with other motivated students</li>
</ul>
<p>Whether you're shy, stuck, or just need more time to practice — this session is for you.</p>
<p><strong>💸 Pricing:</strong></p>
<ul>
  <li>FREE for all current Flex students</li>
  <li>90,000 VND/session for non-students</li>
</ul>
<p>Open to teens, adults, and test-prep learners (IELTS, VSTEP, etc.). Let's build confidence and fluency together — one Friday at a time.</p>
<p>📍 Held at Flex English Center | No registration required for current students. Just show up and speak up!</p>`
  }
];

function getYoutubeThumbnail(url) {
  // Extract the video ID from the YouTube URL
  const match = url.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]+)/);
  return match ? `https://img.youtube.com/vi/${match[1]}/hqdefault.jpg` : '';
}

function createNewsCard(item) {
  let mediaHtml = "";
  if (item.mainMedia.type === "youtube") {
    const thumb = getYoutubeThumbnail(item.mainMedia.url);
    mediaHtml = `<div class=\"news-card-media\"><img src=\"${thumb}\" alt=\"${item.title}\"></div>`;
  } else if (item.mainMedia.type === "image") {
    mediaHtml = `<div class=\"news-card-media\"><img src=\"${item.mainMedia.url}\" alt=\"${item.title}\"></div>`;
  }
  return `
    <div class=\"news-card\" data-id=\"${item.id}\">
      ${mediaHtml}
      <div class=\"news-card-body\">
        <div class=\"news-card-title\">${item.title}</div>
        <div class=\"news-card-summary\">${item.summary}</div>
      </div>
    </div>
  `;
}

document.addEventListener("DOMContentLoaded", function() {
  const grid = document.getElementById("news-grid");
  if (grid) {
    grid.innerHTML = window.newsItems.map(createNewsCard).join("");

    grid.addEventListener("click", function(e) {
      const card = e.target.closest(".news-card");
      if (card) {
        const id = card.getAttribute("data-id");
        window.location.href = `news-story.html?id=${id}`;
      }
    });
  }
}); 