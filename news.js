// news.js

window.newsItems = [
  {
    id: 1,
    title: "Flex English Center Hosts IELTS Writing Task 2 Workshop Led by Expert Educator",
    summary: "Join our special IELTS Writing Task 2 Workshop with Tháº§y LÃª TÃ¹ng QuÃ¢n on May 9, 2025. Learn smarter essay strategies and win exclusive prizes!",
    mainMedia: { type: "image", url: "images/workshop.jpg" },
    content_en: `<p><strong>Can Tho, Vietnam â€“ May 5, 2025</strong> â€“ Flex English Center is excited to announce an upcoming IELTS Writing Task 2 Workshop with renowned educator Tháº§y LÃª TÃ¹ng QuÃ¢n on Friday, May 9, 2025, at 7:00 PM in Room 101. The workshop, titled "Rhetoric Before Grammar â€“ Think Before You Write," will explore a smarter, more structured way to tackle the IELTS essay, focusing on ideas and organization before sentence mechanics.</p>
<p>Tháº§y QuÃ¢n brings a wealth of experience and academic credentials to the event. He holds a degree from National Chengchi University (Taiwan) and Saginaw Valley State University (USA), along with a professional teaching certificate and an IELTS 8.0 score. Currently serving as the Director of Flex English Center, he's known for delivering clear, thought-provoking lessons that help students truly understand the "why" behind great writing.</p>
<p><strong>Why Attend?</strong></p>
<ul>
  <li>ğŸ” Learn how to build arguments before worrying about grammar</li>
  <li>ğŸ§  Improve your Task 2 logic and structure</li>
  <li>ğŸ¤ Participate in a live Q&A with a certified IELTS expert</li>
  <li>ğŸ Get access to exclusive workshop-only vouchers and prizes</li>
</ul>
<p>The session will be conducted in a hybrid format, allowing both in-person and online participation.</p>
<p><strong>Registration is open now â€” scan the QR code on the poster or contact Flex via:</strong></p>
<p>ğŸ“© Email: dangky@flexenglish.edu.vn<br>ğŸ“ Phone: 0703 010 122<br>ğŸ“ Location: Sá»‘ D8, Máº­u ThÃ¢n, XuÃ¢n KhÃ¡nh, Ninh Kiá»u, Cáº§n ThÆ¡</p>`,
    content_vn: `<p><strong>Cáº§n ThÆ¡, Viá»‡t Nam â€“ 5/5/2025</strong> â€“ Flex English Center hÃ¢n háº¡nh thÃ´ng bÃ¡o tá»• chá»©c Workshop IELTS Writing Task 2 cÃ¹ng chuyÃªn gia Tháº§y LÃª TÃ¹ng QuÃ¢n vÃ o thá»© SÃ¡u, ngÃ y 9/5/2025, lÃºc 19:00 táº¡i phÃ²ng 101. Chá»§ Ä‘á» "Rhetoric Before Grammar â€“ Think Before You Write" sáº½ giÃºp báº¡n tiáº¿p cáº­n Task 2 thÃ´ng minh hÆ¡n, táº­p trung vÃ o Ã½ tÆ°á»Ÿng vÃ  tá»• chá»©c bÃ i trÆ°á»›c khi lo vá» ngá»¯ phÃ¡p.</p>
<p>Tháº§y QuÃ¢n cÃ³ nhiá»u kinh nghiá»‡m vÃ  báº±ng cáº¥p quá»‘c táº¿: tá»‘t nghiá»‡p Äáº¡i há»c Quá»‘c gia Chengchi (ÄÃ i Loan), Äáº¡i há»c Saginaw Valley State (Má»¹), cÃ³ chá»©ng chá»‰ giáº£ng dáº¡y chuyÃªn nghiá»‡p vÃ  IELTS 8.0. Hiá»‡n lÃ  GiÃ¡m Ä‘á»‘c Flex English Center, tháº§y ná»•i tiáº¿ng vá»›i nhá»¯ng bÃ i giáº£ng rÃµ rÃ ng, sÃ¢u sáº¯c, giÃºp há»c viÃªn hiá»ƒu báº£n cháº¥t cá»§a viáº¿t luáº­n.</p>
<p><strong>LÃ½ do nÃªn tham dá»±?</strong></p>
<ul>
  <li>ğŸ” Há»c cÃ¡ch xÃ¢y dá»±ng láº­p luáº­n trÆ°á»›c khi lo ngá»¯ phÃ¡p</li>
  <li>ğŸ§  NÃ¢ng cao tÆ° duy vÃ  bá»‘ cá»¥c Task 2</li>
  <li>ğŸ¤ Giao lÆ°u há»i Ä‘Ã¡p trá»±c tiáº¿p vá»›i chuyÃªn gia IELTS</li>
  <li>ğŸ Nháº­n voucher vÃ  quÃ  táº·ng chá»‰ dÃ nh cho ngÆ°á»i tham dá»±</li>
</ul>
<p>Workshop tá»• chá»©c theo hÃ¬nh thá»©c hybrid â€“ báº¡n cÃ³ thá»ƒ tham gia trá»±c tiáº¿p hoáº·c online.</p>
<p><strong>ÄÄƒng kÃ½ ngay â€“ quÃ©t mÃ£ QR trÃªn poster hoáº·c liÃªn há»‡ Flex:</strong></p>
<p>ğŸ“© Email: dangky@flexenglish.edu.vn<br>ğŸ“ Äiá»‡n thoáº¡i: 0703 010 122<br>ğŸ“ Äá»‹a chá»‰: Sá»‘ D8, Máº­u ThÃ¢n, XuÃ¢n KhÃ¡nh, Ninh Kiá»u, Cáº§n ThÆ¡</p>`
  },
  {
    id: 2,
    title: "AI-Powered English Test Now Available",
    summary: "A new AI-powered English test is now available at https://ptai-puce.vercel.app, offering a free and comprehensive assessment of all four language skills.",
    mainMedia: { type: "image", url: "images/aiphoto.png" },
    video: "https://youtube.com/shorts/RObAnixb56Q?feature=share",
    content_en: `<p>A new AI-powered English test is now available at <a href='https://ptai-puce.vercel.app' target='_blank'>https://ptai-puce.vercel.app</a>, offering a free and comprehensive assessment of all four language skills â€” reading, listening, writing, and speaking.</p><p>Created by Alex, co-founder of Flex, the test delivers instant, personalized feedback using advanced AI technology. It's designed to match international standards like IELTS and TOEFL, giving learners around the world a reliable way to check their English proficiency at no cost.</p><p>"I built this to make high-quality testing available to everyone â€” no paywalls, no pressure," says Alex.</p><p>Open to students, teachers, and lifelong learners, the platform requires no sign-up and works directly in any browser.</p><p>Try it now at <a href='https://ptai-puce.vercel.app' target='_blank'>https://ptai-puce.vercel.app</a></p>`,
    content_vn: `<p>Má»™t bÃ i kiá»ƒm tra tiáº¿ng Anh sá»­ dá»¥ng AI má»›i hiá»‡n Ä‘Ã£ cÃ³ táº¡i <a href='https://ptai-puce.vercel.app' target='_blank'>https://ptai-puce.vercel.app</a>, cung cáº¥p Ä‘Ã¡nh giÃ¡ miá»…n phÃ­ vÃ  toÃ n diá»‡n vá» bá»‘n ká»¹ nÄƒng ngÃ´n ngá»¯: Ä‘á»c, nghe, viáº¿t vÃ  nÃ³i.</p><p>ÄÆ°á»£c táº¡o bá»Ÿi Alex, Ä‘á»“ng sÃ¡ng láº­p Flex, bÃ i kiá»ƒm tra nÃ y cung cáº¥p pháº£n há»“i cÃ¡ nhÃ¢n hÃ³a tá»©c thÃ¬ nhá» cÃ´ng nghá»‡ AI tiÃªn tiáº¿n. NÃ³ Ä‘Æ°á»£c thiáº¿t káº¿ theo tiÃªu chuáº©n quá»‘c táº¿ nhÆ° IELTS vÃ  TOEFL, giÃºp ngÆ°á»i há»c trÃªn toÃ n tháº¿ giá»›i kiá»ƒm tra trÃ¬nh Ä‘á»™ tiáº¿ng Anh cá»§a mÃ¬nh má»™t cÃ¡ch Ä‘Ã¡ng tin cáº­y mÃ  khÃ´ng tá»‘n chi phÃ­.</p><p>"TÃ´i xÃ¢y dá»±ng Ä‘iá»u nÃ y Ä‘á»ƒ má»i ngÆ°á»i Ä‘á»u cÃ³ thá»ƒ tiáº¿p cáº­n kiá»ƒm tra cháº¥t lÆ°á»£ng cao â€” khÃ´ng cÃ³ rÃ o cáº£n, khÃ´ng Ã¡p lá»±c," Alex chia sáº».</p><p>DÃ nh cho há»c sinh, giÃ¡o viÃªn vÃ  nhá»¯ng ngÆ°á»i há»c suá»‘t Ä‘á»i, ná»n táº£ng nÃ y khÃ´ng yÃªu cáº§u Ä‘Äƒng kÃ½ vÃ  hoáº¡t Ä‘á»™ng trá»±c tiáº¿p trÃªn báº¥t ká»³ trÃ¬nh duyá»‡t nÃ o.</p><p>HÃ£y thá»­ ngay táº¡i <a href='https://ptai-puce.vercel.app' target='_blank'>https://ptai-puce.vercel.app</a></p>`
  },
  {
    id: 3,
    title: "This Summer, Make Your English Stronger Than Ever",
    summary: "While others are sleeping in and scrolling through their phones, our students are leveling up. At Flex English Center, summer school isn't boring â€” it's focused, fun, and full of real progress.",
    mainMedia: { type: "image", url: "images/summer.jpg" },
    content_en: `<p>While others are sleeping in and scrolling through their phones, our students are leveling up. At Flex English Center, summer school isn't boring â€” it's focused, fun, and full of real progress.</p>
<p>Whether you're a teen aiming for IELTS, a kid building confidence, or an adult brushing up on speaking, there's a class just for you. Our experienced teachers combine clear explanations with real conversation practice, so you don't just learn English â€” you use it.</p>
<ul>
  <li>ğŸ“š Small classes, personal feedback, and lots of speaking time.</li>
  <li>ğŸ¯ Focused goals. Real results.</li>
  <li>ğŸ Summer promotions and special gifts for early sign-ups!</li>
</ul>
<p>ğŸ‘‰ Go to our <a href='classes.html' target='_blank'>Classes Page</a> to sign up now and reserve your spot!</p>`
  },
  {
    id: 4,
    title: "New Medical English Class Launches at Flex â€“ For Professionals & Students",
    summary: "Flex English is proud to introduce a specialized Medical English class for doctors, nurses, pharmacists, and medical students who want to improve their English for clinical, academic, and professional settings.",
    mainMedia: { type: "image", url: "images/med1.png" },
    content_en: `<p>Flex English is proud to introduce a specialized Medical English class designed for doctors, nurses, pharmacists, and medical students who want to improve their English for clinical, academic, and professional settings.</p>
<p><img src='images/med2.jpg' alt='Medical English Class' style='max-width:100%;border-radius:12px;margin:1.5em 0;'></p>
<p>Whether you're preparing for international medical exams, planning to work abroad, or just want to feel more confident communicating with colleagues and patients in English, this course is tailored for you.</p>
<p><strong>What you'll learn:</strong></p>
<ul>
  <li>Medical terminology and anatomy in English</li>
  <li>Doctor-patient communication</li>
  <li>Case presentations and medical writing</li>
  <li>Listening and speaking practice with realistic medical scenarios</li>
  <li>English for conferences, research, and reports</li>
</ul>
<p>Classes are taught by experienced English educators with a background in healthcare language and a clear, practical approach.</p>
<ul>
  <li>ğŸ“ Limited spots available.</li>
  <li>ğŸ“† Evening & weekend options.</li>
  <li>ğŸŒ Both online and offline formats available.</li>
</ul>`
  },
  {
    id: 5,
    title: "Flex Active Learning Program â€“ Every Friday with Teacher Alex!",
    summary: "Need a little extra English help? Want more chances to speak, ask questions, and actually use what you've learned? Join our Active Learning Program â€” a fun, practical session held every Friday from 6:00 to 8:00 PM with Teacher Alex!",
    mainMedia: { type: "image", url: "images/active1.png" },
    content_en: `<p>Need a little extra English help? Want more chances to speak, ask questions, and actually use what you've learned? Join our Active Learning Program â€” a fun, practical session held every Friday from 6:00 to 8:00 PM with Teacher Alex!</p>
<p><img src='images/active2.jpg' alt='Active Learning Program' style='max-width:100%;border-radius:12px;margin:1.5em 0;'></p>
<p>This is your time to:</p>
<ul>
  <li>ğŸ—£ Practice speaking in a relaxed environment</li>
  <li>ğŸ’¬ Get feedback and correction from a native teacher</li>
  <li>ğŸ§  Ask questions about grammar, writing, or vocabulary</li>
  <li>ğŸ¤ Learn with other motivated students</li>
</ul>
<p>Whether you're shy, stuck, or just need more time to practice â€” this session is for you.</p>
<p><strong>ğŸ’¸ Pricing:</strong></p>
<ul>
  <li>FREE for all current Flex students</li>
  <li>90,000 VND/session for non-students</li>
</ul>
<p>Open to teens, adults, and test-prep learners (IELTS, VSTEP, etc.). Let's build confidence and fluency together â€” one Friday at a time.</p>
<p>ğŸ“ Held at Flex English Center | No registration required for current students. Just show up and speak up!</p>`
  }
];

function getYoutubeThumbnail(url) {
  // Extract the video ID from the YouTube URL
  const match = url.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]+)/);
  return match ? `https://img.youtube.com/vi/${match[1]}/hqdefault.jpg` : '';
}

function createNewsCard(item) {
  let mediaHtml = "";
  if (item.mainMedia.type === "youtube") {
    const thumb = getYoutubeThumbnail(item.mainMedia.url);
    mediaHtml = `<div class=\"news-card-media\"><img src=\"${thumb}\" alt=\"${item.title}\"></div>`;
  } else if (item.mainMedia.type === "image") {
    mediaHtml = `<div class=\"news-card-media\"><img src=\"${item.mainMedia.url}\" alt=\"${item.title}\"></div>`;
  }
  return `
    <div class=\"news-card\" data-id=\"${item.id}\">
      ${mediaHtml}
      <div class=\"news-card-body\">
        <div class=\"news-card-title\">${item.title}</div>
        <div class=\"news-card-summary\">${item.summary}</div>
      </div>
    </div>
  `;
}

document.addEventListener("DOMContentLoaded", function() {
  const grid = document.getElementById("news-grid");
  if (grid) {
    grid.innerHTML = window.newsItems.map(createNewsCard).join("");

    grid.addEventListener("click", function(e) {
      const card = e.target.closest(".news-card");
      if (card) {
        const id = card.getAttribute("data-id");
        window.location.href = `news-story.html?id=${id}`;
      }
    });
  }
}); 